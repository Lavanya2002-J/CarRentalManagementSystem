@model CarRentalManagementSystem.Models.Booking

@{
    ViewData["Title"] = "Cancel Booking";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<link rel="stylesheet" href="~/css/BookingCancel.css" asp-append-version="true" />

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="glass-panel-danger p-4 p-md-5">

                <div class="text-center mb-4 warning-header">
                    <i class="bi bi-exclamation-triangle-fill text-danger icon-danger mb-3"></i>
                    <h1 class="fw-bold text-danger text-uppercase">Confirm Cancellation</h1>
                    <p class="fs-5 text-white-50">Are you sure you want to cancel this booking? This action cannot be undone.</p>
                </div>

                <div class="booking-summary-box mb-5">
                    <h4 class="text-white mb-3">Booking Details</h4>
                    <dl class="row">
                        <dt class="col-sm-4"><i class="bi bi-journal-bookmark me-2"></i>Booking ID</dt>
                        <dd class="col-sm-8">@Model.BookingID</dd>

                        <dt class="col-sm-4"><i class="bi bi-car-front-fill me-2"></i>Car</dt>
                        <dd class="col-sm-8">@Model.Car.CarName (@Model.Car.Model)</dd>

                        <dt class="col-sm-4"><i class="bi bi-calendar-arrow-right me-2"></i>Pickup Date</dt>
                        <dd class="col-sm-8">@Model.PickupDate.ToString("dd MMM yyyy")</dd>

                        <dt class="col-sm-4"><i class="bi bi-calendar-arrow-left me-2"></i>Return Date</dt>
                        <dd class="col-sm-8">@Model.ReturnDate.ToString("dd MMM yyyy")</dd>

                        <dt class="col-sm-4"><i class="bi bi-wallet2 me-2"></i>Total Cost</dt>
                        <dd class="col-sm-8 fw-bold text-success">LKR @Model.TotalCost.ToString("N2")</dd>
                    </dl>
                </div>

                <form asp-action="Cancel" method="post">
                    @Html.AntiForgeryToken()
                    <input type="hidden" asp-for="BookingID" />

                    <div class="d-flex justify-content-center gap-3">
                        <a asp-action="History" class="btn btn-secondary px-4 py-2">
                            <i class="bi bi-x-circle me-1"></i> No, Go Back
                        </a>
                        <button type="submit" class="btn btn-danger px-4 py-2">
                            <i class="bi bi-trash3-fill me-1"></i> Yes, Cancel Booking
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}